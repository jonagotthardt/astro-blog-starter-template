---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../consts';
---

<header>
  <nav>
    <h2 class="logo"><a href="/">{SITE_TITLE}</a></h2>

    <!-- Normale Links für große Bildschirme -->
    <div class="internal-links">
      <HeaderLink href="/">Home</HeaderLink>
      <HeaderLink href="/plugins">Downloads</HeaderLink>
      <HeaderLink href="/about">About</HeaderLink>
    </div>

    <!-- Dropdown Menü für kleine Bildschirme -->
    <div class="menu-dropdown">
      <button class="menu-btn" aria-label="Menu">Menu ▾</button>
      <div class="menu-content">
        <a href="/">Home</a>
        <a href="/plugins">Downloads</a>
        <a href="/about">About</a>
      </div>
    </div>

    <!-- Social Links -->
    <div class="social-links">
      <a href="https://www.youtube.com/@notch.6225" target="_blank" class="social-btn yt" aria-label="YouTube">
        <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
          <path d="M23.498 6.186a2.999 2.999 0 0 0-2.112-2.122C19.505 3.5 12 3.5 12 3.5s-7.505 0-9.386.564a3 3 0 0 0-2.112 2.122A31.58 31.58 0 0 0 0 12a31.58 31.58 0 0 0 .502 5.814 3 3 0 0 0 2.112 2.122C4.495 20.5 12 20.5 12 20.5s7.505 0 9.386-.564a2.999 2.999 0 0 0 2.112-2.122A31.58 31.58 0 0 0 24 12a31.58 31.58 0 0 0-.502-5.814zM9.75 15.568V8.432L15.818 12 9.75 15.568z"></path>
        </svg>
      </a>
      <a href="https://github.com/jonagotthardt" target="_blank" class="social-btn gh" aria-label="GitHub">
        <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
          <path d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.438 9.8 8.205 11.385.6.113.82-.263.82-.583 0-.288-.01-1.05-.015-2.06-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.335-1.756-1.335-1.756-1.09-.745.083-.73.083-.73 1.205.085 1.84 1.238 1.84 1.238 1.07 1.835 2.807 1.305 3.492.997.108-.776.42-1.305.763-1.605-2.665-.303-5.467-1.335-5.467-5.933 0-1.31.468-2.382 1.235-3.222-.123-.303-.535-1.523.117-3.176 0 0 1.008-.322 3.3 1.23a11.5 11.5 0 0 1 3-.403c1.02.004 2.045.138 3 .403 2.287-1.552 3.292-1.23 3.292-1.23.654 1.653.242 2.873.12 3.176.77.84 1.232 1.912 1.232 3.222 0 4.61-2.807 5.625-5.48 5.922.43.37.814 1.102.814 2.222 0 1.606-.015 2.896-.015 3.286 0 .322.216.7.825.582C20.565 21.796 24 17.3 24 12c0-6.63-5.373-12-12-12z"></path>
        </svg>
      </a>
    </div>
  </nav>
</header>

<style>
header {
  background: linear-gradient(135deg, #4f46e5, #9333ea);
  color: white;
  padding: 0.5rem 1rem;
  position: sticky;
  top: 0;
  z-index: 999;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 1200px;
  margin: 0 auto;
}

.logo a { color: white; font-size: 1.5rem; font-weight: bold; text-decoration: none; }

.internal-links a {
  padding: 0.75rem 1rem;
  color: white;
  font-weight: 500;
  text-decoration: none;
  border-bottom: 3px solid transparent;
}
.internal-links a:hover,
.internal-links a.active { border-bottom-color: #facc15; color: #facc15; }

.menu-dropdown { display: none; position: relative; }
.menu-btn { background: rgba(255,255,255,0.15); border: none; border-radius: 4px; color: white; padding: 0.4rem 0.8rem; cursor: pointer; }
.menu-btn:hover { background: rgba(255,255,255,0.3); }
.menu-content {
  display: none;
  position: absolute;
  right: 0;
  background-color: white;
  min-width: 150px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  border-radius: 4px;
  z-index: 1000;
  flex-direction: column;
}
.menu-content a { color: black; padding: 0.5rem 1rem; text-decoration: none; }
.menu-content a:hover { background-color: #f0f0f0; }
.menu-dropdown.show .menu-content { display: flex; }

.language-switch select {
  background: rgba(255,255,255,0.15);
  border: none;
  color: white;
  border-radius: 4px;
  padding: 0.3rem 0.5rem;
  cursor: pointer;
}
.language-switch select:hover { background: rgba(255,255,255,0.3); }

.social-links { display: flex; gap: 0.5rem; }
.social-btn { display: flex; align-items: center; justify-content: center; padding: 0.4rem; border-radius: 50%; background: rgba(255,255,255,0.15); color: white; }
.social-btn:hover { background: rgba(255,255,255,0.3); transform: scale(1.1); }

@media (max-width: 720px) {
  .internal-links { display: none; }
  .menu-dropdown { display: inline-block; }
}
</style>

<script type="text/javascript">
const menuBtn = document.querySelector('.menu-btn');
const menuDropdown = document.querySelector('.menu-dropdown');

menuBtn.addEventListener('click', () => {
  menuDropdown.classList.toggle('show');
});

window.addEventListener('click', (e) => {
  if (!menuDropdown.contains(e.target)) {
    menuDropdown.classList.remove('show');
  }
});
</script>